<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-concepts/specifications/message-block-layout">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Message Layout | Build Modular.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.celestia.org/pr-preview/pr-261/fr/img/celestia-doc.png"><meta data-rh="true" name="twitter:image" content="https://docs.celestia.org/pr-preview/pr-261/fr/img/celestia-doc.png"><meta data-rh="true" property="og:url" content="https://docs.celestia.org/pr-preview/pr-261/fr/concepts/specifications/message-block-layout"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:site" content="@celestiaorg"><meta data-rh="true" name="twitter:title" content="Celestia Docs"><meta data-rh="true" name="twitter:description" content="The developer documentation site for getting started building on the Celestia Network."><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Message Layout | Build Modular."><meta data-rh="true" name="description" content="- Preamble"><meta data-rh="true" property="og:description" content="- Preamble"><link data-rh="true" rel="icon" href="/pr-preview/pr-261/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.celestia.org/pr-preview/pr-261/fr/concepts/specifications/message-block-layout"><link data-rh="true" rel="alternate" href="https://docs.celestia.org/pr-preview/pr-261/concepts/specifications/message-block-layout" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.celestia.org/pr-preview/pr-261/fr/concepts/specifications/message-block-layout" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.celestia.org/pr-preview/pr-261/concepts/specifications/message-block-layout" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://2KRXIFZ5YL-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Build Modular." href="/pr-preview/pr-261/fr/opensearch.xml">
<script src="https://cdn.jsdelivr.net/npm/docusaurus-plugin-drawio/viewer.min.js"></script>
<script src="https://plausible.celestia.org/js/plausible.js" defer="defer" data-domain="docs.celestia.org"></script><link rel="stylesheet" href="/pr-preview/pr-261/fr/assets/css/styles.9a1bdaa2.css">
<link rel="preload" href="/pr-preview/pr-261/fr/assets/js/runtime~main.e2f8dad9.js" as="script">
<link rel="preload" href="/pr-preview/pr-261/fr/assets/js/main.a5d4bc58.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-preview/pr-261/fr/"><div class="navbar__logo"><img src="/pr-preview/pr-261/fr/img/logo.png" alt="Celestia Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/pr-preview/pr-261/fr/img/logo.png" alt="Celestia Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Celestia Docs</b></a><a class="navbar__item navbar__link" href="/pr-preview/pr-261/fr/concepts/how-celestia-works/introduction">Concepts</a><a class="navbar__item navbar__link" href="/pr-preview/pr-261/fr/nodes/overview">Run A Node</a><a class="navbar__item navbar__link" href="/pr-preview/pr-261/fr/developers/overview">Developers</a><a class="navbar__item navbar__link" href="/pr-preview/pr-261/fr/community/overview">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/celestiaorg/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/pr-preview/pr-261/concepts/specifications/message-block-layout" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/pr-preview/pr-261/fr/concepts/specifications/message-block-layout" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Chercher"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Chercher</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/pr-preview/pr-261/fr/category/how-celestia-works">How Celestia Works</a><button aria-label="Plier/Déplier la catégorie &#x27;How Celestia Works&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://celestia.org/learn/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Learn Modular<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://celestia.org/glossary/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Glossary<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/pr-preview/pr-261/fr/category/specifications">Specifications</a><button aria-label="Plier/Déplier la catégorie &#x27;Specifications&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pr-preview/pr-261/fr/category/specs">Specs</a><button aria-label="Plier/Déplier la catégorie &#x27;Specs&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/pr-preview/pr-261/fr/category/rationale">Rationale</a><button aria-label="Plier/Déplier la catégorie &#x27;Rationale&#x27; de la barre latérale" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-261/fr/concepts/specifications/fork-choice-das">Fork Choice Rule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pr-preview/pr-261/fr/concepts/specifications/message-block-layout">Message Block Layout</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://celestia.org/resources/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/pr-preview/pr-261/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pr-preview/pr-261/fr/category/specifications"><span itemprop="name">Specifications</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pr-preview/pr-261/fr/category/rationale"><span itemprop="name">Rationale</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Message Block Layout</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><h1>Message Layout</h1><ul><li><a href="#preamble">Preamble</a></li><li><a href="#message-layout-rationale">Message Layout Rationale</a><ul><li><a href="#non-interactive-default-rules">Non-Interactive Default Rules</a></li><li><a href="#caveats">Caveats</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preamble">Preamble<a class="hash-link" href="#preamble" title="Lien direct vers le titre">​</a></h2><p>Celestia uses <a href="https://arxiv.org/abs/1809.09044" target="_blank" rel="noopener noreferrer">a data availability scheme</a>
that allows nodes to determine whether a block&#x27;s data was published without
downloading the whole block. The core of this scheme is arranging data in a
two-dimensional matrix then applying erasure coding to each row and column.
This document describes the rationale for how data—transactions, messages,
and other data—<a href="https://celestiaorg.github.io/celestia-specs/latest/specs/data_structures.html#arranging-available-data-into-shares" target="_blank" rel="noopener noreferrer">is actually arranged</a>.
Familiarity with the <a href="https://arxiv.org/abs/1809.09044" target="_blank" rel="noopener noreferrer">originally proposed data layout format</a>
is assumed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="message-layout-rationale">Message Layout Rationale<a class="hash-link" href="#message-layout-rationale" title="Lien direct vers le titre">​</a></h2><p>Block data consists of transactions (which modify the Celestia chain&#x27;s state),
intermediate state roots (required for fraud proofs of the aforementioned
transactions), messages (binary blobs which do not modify the Celestia state,
but which are intended for a Celestia application identified with a provided
namespace ID), and other relevant pieces of data (e.g. evidence for slashing).
We want to arrange this data into a <code>k * k</code> matrix of fixed-sized shares,
which will later be committed to in <a href="https://celestiaorg.github.io/celestia-specs/latest/specs/data_structures.html#namespace-merkle-tree" target="_blank" rel="noopener noreferrer">Namespace Merkle Trees (NMTs)</a>.</p><p>The simplest way we can imagine arranging block data is to simply serialize it
all in no particular order, split it into fixed-sized shares, then arrange those
shares into the <code>k * k</code> matrix in row-major order. However, this naive scheme
can be improved in a number of ways, described below.</p><p>First, we impose some ground rules:</p><ol><li>Data must be ordered by namespace ID. This makes queries into a NMT commitment
of that data more efficient.</li><li>Since non-message data are not naturally intended for particular namespaces,
we assign reserved namespaces for them. A range of namespaces is reserved for
this purpose, starting from the lowest possible namespace ID.</li><li>By construction, the above two rules mean that non-message data always precedes
message data in the row-major matrix, even when considering single rows or columns.</li><li>Data with different namespaces must not be in the same share. This might cause
a small amount of wasted block space, but makes the NMT easier to reason about
in general since leaves are guaranteed to belong to a single namespace.</li></ol><p>Transactions can pay fees for a message to be included in the same block as the
transaction itself. However, we do not want serialized transactions to include
the entire message they pay for (which is the case in other blockchains with native
execution, e.g. calldata in Ethereum transactions or <code>OP_RETURN</code> data in Bitcoin
transactions), otherwise every node that validates the sanctity of the Celestia
coin would need to download all message data. Transactions must therefore only
include a commitment to (i.e. some hash of) the message they pay fees for. If
implemented naively (e.g. with a simple hash of the message, or a simple binary
Merkle tree root of the message), this can lead to a data availability problem,
as there are no guarantees that the data behind these commitments is actually
part of the block data.</p><p>To that end, we impose some additional rules onto <em>messages only</em>: messages must
be placed is a way such that both the transaction sender and the block producer
can be held accountable—a necessary property for e.g. fee burning. Accountable in
this context means that:</p><ol><li>The transaction sender must pay sufficient fees for message inclusion.</li><li>The block proposer cannot claim that a message was included when it was not
(which implies that a transaction and the message it pays for must be included
in the same block).</li></ol><p>Specifically, messages must begin at a new share, unlike non-message data which
can span multiple shares. We note a nice property from this rule: if the transaction
sender knows 1) <code>k</code>, the size of the matrix, 2) the starting location of their message
in a row, and 3) the length of the message (they know this since they are sending
the message), then they can actually compute a sequence of roots to
<em>subtrees in the row NMTs</em>. More importantly, anyone can compute this, and can
compute <em>the simple Merkle root of these subtree roots</em>.</p><p>This, however, requires the block producer to interact with the transaction sender
to provide them the starting location of their message. This can be done selectively,
but is not ideal as a default for e.g. end-user wallets.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="non-interactive-default-rules">Non-Interactive Default Rules<a class="hash-link" href="#non-interactive-default-rules" title="Lien direct vers le titre">​</a></h3><p>As a non-consensus-critical default, we can impose some additional rules on message
placement to make the possible starting locations of messages sufficiently predictable
and constrained such that users can deterministically compute subtree roots without
interaction:</p><ol><li>Messages that span multiple rows must begin at the start of a row (this can occur
if a message is longer than <code>k</code> shares <em>or</em> if the block producer decides to start
a message partway through a row and it cannot fit).</li><li>Messages begin at a location aligned with the largest power of 2 that is not
larger than the message length or <code>k</code>.</li></ol><p>With the above constraints, we can compute subtree roots deterministically easily:
simply slice off either the largest power of 2 that isn&#x27;t larger than the remaining
message length, or <code>k</code>, whichever is smaller. This is done recursively. As an
example, with <code>k = 4</code> and message length of <code>11</code>, the message would be sliced with
lengths <code>4, 4, 2, 1</code>. The resulting slices are the leaves of subtrees whose roots
can be computed. Due to the rules above, the subtrees are guaranteed to be aligned
to powers of 2, and thus the subtree roots will be present as internal nodes in
the NMT of <em>some</em> row(s).</p><p>This is similar to <a href="https://www.usenix.org/legacy/event/sec09/tech/full_papers/crosby.pdf" target="_blank" rel="noopener noreferrer">Merkle Mountain Ranges</a>,
though with the largest subtree bounded by <code>k</code> rather than being unbounded.</p><p>The last piece of the puzzle is determining <em>which</em> row the message is placed
at (or, more specifically, the starting location). This is needed to keep the
block producer accountable. To this end, the block producer simply augments
each fee-paying transaction with some metadata: the starting location of the
message the transaction pays for.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="caveats">Caveats<a class="hash-link" href="#caveats" title="Lien direct vers le titre">​</a></h3><p>The message placement rules described above conflict with the first rule that
shares must be ordered by namespace ID, as shares between two messages that are
not placed adjacent to each other do not have a natural namespace they belong to.
This is resolved by requiring that such shares have a value of zero and a namespace
ID equal to the preceding message&#x27;s. Since their value is known, they can be omitted
from NMT proofs of all shares of a given namespace ID.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/celestiaorg/docs/tree/main/docs/concepts/specifications/message-block-layout.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-261/fr/concepts/specifications/fork-choice-das"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">Fork Choice Rule with Data Availability Sampling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preamble" class="table-of-contents__link toc-highlight">Preamble</a></li><li><a href="#message-layout-rationale" class="table-of-contents__link toc-highlight">Message Layout Rationale</a><ul><li><a href="#non-interactive-default-rules" class="table-of-contents__link toc-highlight">Non-Interactive Default Rules</a></li><li><a href="#caveats" class="table-of-contents__link toc-highlight">Caveats</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-261/fr/nodes/overview">Run A Node</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-261/fr/developers/overview">Developers</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-261/fr/community/overview">Community</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/je7UVpDuDu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/CelestiaOrg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.celestia.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/celestiaorg/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://celestia.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Celestia Org Built with Docusaurus.</div></div></div></footer></div>
<script src="/pr-preview/pr-261/fr/assets/js/runtime~main.e2f8dad9.js"></script>
<script src="/pr-preview/pr-261/fr/assets/js/main.a5d4bc58.js"></script>
</body>
</html>